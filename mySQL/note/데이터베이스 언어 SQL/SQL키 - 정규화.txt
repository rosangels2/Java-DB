SQL키

슈퍼키 - 테이블에서 고유한 식별값으로 사용 가능한 속성 또는 속성의 집합 (기본키 + 대체키 = 후보키)
ex)주민번호, 주민번호+이름, 주민번호+이름+성별, 학번, 학번+이름, 학번+이름+성별

후보키 - 슈퍼키 중에서 더이상 줄일 수 없는 속성
	ex)주민번호, 학번

기본키 - 고유한 값을 식별하기에 가장 적합한 속성
	ex) 학번

대체키 - 후보키 중에서 기본키를 제외한 속성
	ex)주민번호

























정규화 - 삽입, 삭제, 수정에서 이상이 생길 경우를 예상해서 테이블을 세분화

제1정규화 - 원자값이 아닌 도메인을 원자값으로 분해
	-> 다치값을 가진 속성을 나눠서 두개의 행으로 만든다
	ex) 학번+교수번호의 지도 테이블
	      학번+강의번호의 수강 테이블
제2정화화 - 완전 함수 종속성 개념에 기반

아래  릴레이션은 공급자번호+부품번호가 기본키
ex)부품 공급 릴레이션
| 공급자번호 | 부품번호 | 운송거리 | 소재지 | 수량 |
| ---------- | -------- | -------- | ------ | ---- |
| S1 | P1 | 46 | 수원 | 300 |
| S1 | P2 | 46 | 수원 | 200 |
| S1 | P3 | 46 | 수원 | 400 |
| S1 | P4 | 46 | 수원 | 200 |
| S1 | P5 | 46 | 수원 | 100 |
| S1 | P6 | 46 | 수원 | 100 |
| S2 | P1 | 164 | 대전 | 300 |
| S2 | P2 | 164 | 대전 | 400 |
| S3 | P2 | 302 | 대구 | 200 |
| S4 | P2 | 329 | 광주 | 200 |
| S4 | P4 | 329 | 광주 | 300 |
| S4 | P6 | 329 | 광주 | 400 |



삽입이상 - 	공급자가 S5가 부산에 위치한다는 데이터를 저장하고 싶은 경우, 이 정보를 삽입할 수 없다.
	릴레이션의 기본키가 (공급자번호, 부품번호)로 구성되어 있는데 (S5, 부산) 데이터에는 부품번호가 포함되어 있지 않기 때문이다.
->기본키인 공급자번호, 부품번호를 모두 입력해 주어야 한다

삭제이상 - 	S3에 대한 레코드는 하나뿐인데 S3가 부품 P2를 공급한다는 사실을 삭제할 경우, S3가 대구에 		위치하는 사실도 삭제된다.
	공급자 S3가 대구에 위치하는 사실은 S3의 부품공급 여부와 관계없이 사용자가 보존해야하는 필요한 정보이지만 삭제가 된다.
->하위 정보들이 모두 삭제된다
	
갱신이상 - 	S1의 소재지는 수원이다. 만약 S1이 전주로 이주한다면 S1의 모든 레코드가 갱신되어야 한다.
	극단적인 경우 S1의 소재지가 수원과 전주 두곳이 되는 일관성 없는 데이터가 발생할 수 있다.



제3정규화 - 후보키가 아닌 키들을 제외해서 분류
->부품 공급 릴레이션 -> 공급자 릴레이션 + 부품 공급 릴레이션으로 분류
속성)공급자번호 부품번호 거리 소재지 개수
공급자 릴레이션
속성)공급자번호 소재지 거리
	-> 공급자번호 릴레이션
		속성) 공급자번호 소재지
		->소재지 릴레이션
			속성)소재지 거리
부품 공급 릴레이션
속성)공급자번호 부품번호 개수
예제)대학교 수강 릴레이션
속성)학번 과목명 교수
한 학생은 여러 과목을 수강
한 과목에는 여러 교수님들이 각 분반을 수업
한 교수님은 하나의 과목만 강의


교수 테이블
속성)교수 과목명
강의 테이블
속성)학번 교수




제4정규화 - 다치종속성 제거
예제)
학생		수강과목		동아리
홍길동		미방, 컴개, 교육학	영화감상, 사물놀이

홍길동 		미방			영화감상
홍길동 		미방			사물놀이
홍길동 		컴개			영화감상
홍길동 		컴개			사물놀이
홍길동 		교육학			영화감상
홍길동 		교육학			사물놀이



릴레이션 분류
	수강테이블
	속성)학생 수강과목
홍길동 	미방
홍길동	컴개
홍길동	교육학

동아리테이블
속성)학생 동아리
홍길동	영화감상
홍길동	사물놀이

