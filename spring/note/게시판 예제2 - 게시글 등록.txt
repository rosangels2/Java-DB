display.jsp에서 수정, 등록, 삭제 버튼 추가 및 링크 등록

등록 URI : /board/register

1. /board/register.jsp 파일 생성 및 컨트롤러 매핑
예시) 컨트롤러
	@RequestMapping(value="register", method = RequestMethod.GET)
	public String BoardRegisterGet(Model model, String id){
		logger.info("게시글 등록 진행");
		model.addAttribute("user", id);
		return "board/register";
	}
2. register URI로 이동할 때 URI에 GET방식으로 id를 보내준 뒤 해당 id값을 작성자 값으로 호출
예시) display.jsp
<a href="<%=request.getContextPath()%>/board/register?id=${board.writer}"> <button type="button" class="btn btn-outline-dark">등록</button> </a>

3. URI에 넘어온 id값이 제대로 출력되는지 컨트롤러에서 확인한 뒤 model.addAttribute를 통해 변수에 저장
예시) 컨트롤러
	@RequestMapping(value="register", method = RequestMethod.GET)
	public String BoardRegisterGet(Model model, String id){
		logger.info("게시글 등록 진행");
		System.out.println(id);
		model.addAttribute("user", id);
		return "board/register";
	}
4. jsp파일을 구현한 뒤 model에 담긴 값을 작성자 인풋창 값으로 호출
예시) register.jsp
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<html>
<head>	
	<jsp:include page="/WEB-INF/views/common/header.jsp"></jsp:include>
	<title>display</title>
<style>
a{
	float: right;			
	color: black;
	margin-right : 30px;
}
</style>
</head>
<body>
	<jsp:include page="/WEB-INF/views/common/nav.jsp"></jsp:include>
	<form method="post" action="<%=request.getContextPath()%>/board/register">	<!-- action이 따로 없다면 현재 jsp의 post방식 매핑으로 이동한다 -->

		<div class="container-fluid" style="margin-top:20px;">	              
		    <div class="form-group">
			  <label>제목</label>
			  <input type="text" class="form-control" name="title">
		    </div>
		    <div class="form-group">
			  <label>작성자</label>
			  <input type="text" class="form-control" name="" value="${user}" readonly>	//컨트롤러에서 id를 저장한 변수 user를 호출
		    </div>
		    <div class="form-group">
			  <label>작성일</label>
			  <input type="text" class="form-control" name="" readonly>	<!-- input태그는 입력값이 없을 시 null이 아닌 빈 문자열 ""가 입력된다 -->
		    </div>
		    <div class="form-group">
			  <label>조회수</label>
			  <input type="text" class="form-control" name="" readonly>
		    </div>
		    <div class="form-group">
			  <label>내용</label>
			  <textarea class="form-control" rows="5" name="contents"></textarea>
			</div>
		    <div class="form-group">
			  <label>파일첨부</label>
			  <input type="text" class="form-control" name="file">
		    </div>	  		
		</div>
		<button style="float: right; margin-right: 20px;">게시글 등록</button>
	</form>
	<a style="float: left; margin-left: 20px;" href="<%=request.getContextPath()%>/board/list"><button type="button" class="btn btn-outline-primary">취소</button></a>
</body>
</html>

5. register.jsp에서 form 태그를 이용해 post형식으로 전송된 정보를 매핑하여 사용할 컨트롤러 메서드 매핑
예시)
	@RequestMapping(value="register", method = RequestMethod.POST)
	public String BoardRegisterPost(Model model, BoardVO bVo){
		System.out.println(bVo);
		if(boardService.register(bVo)){
			return "redirect:/board/list";
		}
		return "redirect:/board/register";
	}

6. quick fixed를 통해 DAO에 연결할 서비스 인터페이스 생성
예시)
	boolean register(BoardVO bVo);

7. quick fixed를 통해 서비스 implements 클래스에 해당 인터페이스 구현 후 예외처리 및 DAO 인터페이스 호출
예시)
	@Override
	public boolean register(BoardVO bVo) {
		if(bVo == null){
			return false;
		}
		if(bVo.getFile() == null || bVo.getFile() == ""){
			bVo.setFile("");
		}
		boardDao.register(bVo);	//quick fixed를 통해 DAO 인터페이스 생성
		return true;		
	}

8. quick fixed를 통해 DAO 인터페이스 생성
예시)
	void register(BoardVO bVo);

9. DAO인터페이스를 mapper에서 호출하여 연결
예시)
	<insert id="register">
		insert into board(title, contents, writer, file)
			values(#{title}, #{contents}, #{writer}, #{file});
	</insert>

10. register.jsp에서 입력받지 않을 값들의 name을 제거해 BoardVO 객체에 빈 문자열이 저장되는 걸 막는다
-> input태그는 입력값이 없을 경우 빈 문자열을 전송(자료형이 String이 아닌 멤버변수들에 빈 문자열이 입력돼 자료형 불일치로 예외 에러가 발생한다)
예시) register.jsp
	<div class="form-group">
		<label>조회수</label>
		<input type="text" class="form-control" name="views" readonly>	//name 입력 시 조회수는 자료형이 int인데 빈 문자열이 입력돼 에러가 발생
	</div>